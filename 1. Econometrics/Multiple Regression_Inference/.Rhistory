head(discrim)
head(discrim$lpsoda )
head(discrim$lpsoda
discrim$lpsoda
discrim$lpsoda
colnames(discrim)
desc
m2 <- lm(lpsoda ~ lprpblck + lincome, discrim)
m2 <- lm(lpsoda ~ lprpblck + lincome, discrim)
discrim$prpblck
discrim$lprpblck
discrim$1prpblck
colnames(discrim)
m2 <- lm(lpsoda ~ prpblck + lincome, discrim)
summary(m2)
desc
0.12158*0.2
m3 <- lm(lpsoda ~ prpblck, discrim)
summary(m3)
0.12158 * 0.20
m4 <- lm(lpsoda ~ prpblck + lincome + prppov, discrim)
m4 <- lm(lpsoda ~ prpblck + lincome + prppov, discrim)
summary(m4)
m4 <- lm(lpsoda ~ prpblck + lincome + prppov, discrim)
summary(m4)
desc
cor(discrim$lpsoda, discrim$prppov)
cor(discrim$lpsoda, discrim$prppov)
cor(discrim$lpsoda, discrim$prppov)
cor(discrim$lpsoda, discrim$prppov)
discrim$lpsoda
discrim$prppov
cor(discrim$lpsoda, discrim$prppov, rm.na = T)
cor(discrim$lpsoda, discrim$prppov, use = 'all.obs')
cor(discrim$lpsoda, discrim$prppov, use = 'completeobs')
cor(discrim$lpsoda, discrim$prppov, use = 'complete.obs')
cor(discrim$lincome, discrim$prppov, use = 'complete.obs')
cor(discrim$lincome, discrim$prppov, use = 'complete.obs')
cat("Correlation between log(income) and prppov: ", cor)
cat("Correlation between log(income) and prppov: ", cor)
print("Correlation between log(income) and prppov: ", cor)
cor <- cor(discrim$lincome, discrim$prppov, use = 'complete.obs')
print("Correlation between log(income) and prppov: ", corr)
cat("Correlation between log(income) and prppov: ", corr)
cat("Correlation between log(income) and prppov: ", corr)
coor
corr
corr <- cor(discrim$lincome, discrim$prppov, use = 'complete.obs')
cat("Correlation between log(income) and prppov: ", corr)
library(stargazer)
install.packagese("stargazer")
install.packages("stargazer")
libarary(stargazer)
libraray(stargazer)
library(stargazer)
stargazer(m1, m2, aline = T)
knitr::opts_chunk$set(echo = TRUE)
library(ggplot2)
library(chemCal)
m4 <- lm(lpsoda ~ prpblck + lincome + prppov, discrim)
load("~/2ndSemster/Econometrics/problemsets/PS1/discrim.RData")
discrim <- data
m4 <- lm(lpsoda ~ prpblck + lincome + prppov, discrim)
stargazer(m2, m4, align = T, no.space = T)
library(stargazer)
m4 <- lm(lpsoda ~ prpblck + lincome + prppov, discrim)
stargazer(m2, m4, align = T, no.space = T)
m2 <- lm(lpsoda ~ prpblck + lincome, discrim)
summary(m2)
m4 <- lm(lpsoda ~ prpblck + lincome + prppov, discrim)
stargazer(m2, m4, align = T, no.space = T)
m4 <- lm(lpsoda ~ prpblck + lincome + prppov, discrim)
stargazer(m2, m4, align = T, no.space = T)
stargazer(m2, m4, align = T, no.space = T)
install.packages("xtable")
knitr::opts_chunk$set(echo = TRUE)
library(ggplot2)
library(chemCal)
library(stargazer)
library(xtable)
stargazer(m2, m4, align = T, no.space = T)
install.packages("dcolumn")
install.packages("apsrtable")
library(apsrtable)
m4 <- lm(lpsoda ~ prpblck + lincome + prppov, discrim)
stargazer(m2, m4, align = T, no.space = T)
m4 <- lm(lpsoda ~ prpblck + lincome + prppov, discrim)
stargazer(m2, m4, align = T, no.space = T)
m4 <- lm(lpsoda ~ prpblck + lincome + prppov, discrim)
stargazer(m2, m4, align = T, no.space = T)
m4 <- lm(lpsoda ~ prpblck + lincome + prppov, discrim)
stargazer(m2, m4, align = T, no.space = T)
library(xtable)
library(stargazer)
m4 <- lm(lpsoda ~ prpblck + lincome + prppov, discrim)
stargazer(m2, m4, align = T, no.space = T)
m4 <- lm(lpsoda ~ prpblck + lincome + prppov, discrim)
stargazer(m2, m4, align = T, no.space = T)
stargazer(m2, m4, align = T)
stargazer(m2, m3, align = T)
m3 <- lm(lpsoda ~ prpblck, discrim)
summary(m3)
m4 <- lm(lpsoda ~ prpblck + lincome + prppov, discrim)
stargazer(m2, m3, align = T)
m4 <- lm(lpsoda ~ prpblck + lincome + prppov, discrim)
stargazer(m2, m3, align = T)
m4 <- lm(lpsoda ~ prpblck + lincome + prppov, discrim)
stargazer(m2, m3, align = T)
m4 <- lm(lpsoda ~ prpblck + lincome + prppov, discrim)
stargazer(m2, m3, align = T, type = "latex")
load("~/2ndSemster/Econometrics/problemsets/PS1/bwght.RData")
bw <- data
m1 <- lm(bwght ~ cigs, bw)
summary(m1)
xtable(m1, align = T, no.space = T, type = "html")
stargazer(m1, align = T, no.space = T, type = "html")
load("~/2ndSemster/Econometrics/problemsets/PS1/bwght.RData")
bw <- data
m1 <- lm(bwght ~ cigs, bw)
summary(m1)
stargazer(m1, type = "html")
load("~/2ndSemster/Econometrics/problemsets/PS1/bwght.RData")
bw <- data
m1 <- lm(bwght ~ cigs, bw)
summary(m1)
stargazer(m1, type = "html")
m3 <- lm(lpsoda ~ prpblck, discrim)
stargazer(m3, align = T, type = "html")
m4 <- lm(lpsoda ~ prpblck + lincome + prppov, discrim)
stargazer(m2, m4, align = T, type = "html")
load("~/2ndSemster/Econometrics/problemsets/PS1/bwght.RData")
bw <- data
m1 <- lm(bwght ~ cigs, bw)
stargazer(m1, type = "html")
knitr::opts_chunk$set(echo = TRUE)
library(ggplot2)
library(chemCal)
library(stargazer)
library(xtable)
library(DT)
DT::datatable(pred_1)
pred_1 <- predict(m1, newdata = data.frame(cigs = 0))
cat("predict from the cigs = 0 :", pred_1,"ounces\n")
DT::datatable(pred_1)
DT::datatable(pred_1, digits = 3)
DT::datatable(pred_1)
load("~/2ndSemster/Econometrics/problemsets/PS1/bwght.RData")
bw <- data
m1 <- lm(bwght ~ cigs, bw)
stargazer(m1, title = "Regression Model for bwght by cigs",type = "latex")
```{r echo = FALSE, header=FALSE, message=FALSE, warning=FALSE, results='asis'}
corr <- cor(discrim$lincome, discrim$prppov, use = 'complete.obs')
cat("Correlation between log(income) and prppov: ", corr)
m3 <- lm(lpsoda ~ prpblck, discrim)
stargazer(m2, m3, type = "latex", header = FALSE)
pred_3 <- inverse.predict(m1, 125) #use the packages "chemCal" to find out inverse prediction
pred_3$Prediction
# (125 - 119.77180)/(-0.51377) #manually found the cigs figure from the model
inverse.predict(m1, 125)
ggplot(bw, aes( x= cigs, y = bwght)) + geom_point() + geom_smooth(methos = "m1") +theme_bw()
ggplot(bw, aes( x= cigs, y = bwght)) +
geom_point() +
geom_smooth(methos = "m1") +
theme_bw()+
xlab("avg number of cigarettes the mother smoked per day") +
ylab("infant birth weight in ounces")
pred_1 <- predict(m1, newdata = data.frame(cigs = 0))
cat("predict from the cigs = 0 :", pred_1,"ounces\n")
pred_2 <- predict(m1, newdata = data.frame(cigs = 20))
cat("predict from the cigs = 20:", pred_2,"ounces")
ggplot(bw, aes( x= cigs, y = bwght)) +
geom_point() +
geom_smooth(methos = "m1") +
theme_bw()+
xlab("avg number of cigarettes the mother smoked per day") +
ylab("infant birth weight in ounces") +
labs("")
ggplot(bw, aes( x= cigs, y = bwght)) +
geom_point() +
geom_smooth(methos = "m1") +
theme_bw()+
xlab("avg number of cigarettes the mother smoked per day") +
ylab("infant birth weight in ounces") +
labs("xx")
ggplot(bw, aes( x= cigs, y = bwght)) +
geom_point() +
geom_smooth(methos = "m1") +
theme_bw()+
xlab("avg number of cigarettes the mother smoked per day") +
ylab("infant birth weight in ounces") +
lab("xx")
ggplot(bw, aes( x= cigs, y = bwght)) +
geom_point() +
geom_smooth(methos = "m1") +
theme_bw()+
xlab("avg number of cigarettes the mother smoked per day") +
ylab("infant birth weight in ounces") +
labs(title = "Confined by Region") +
theme(plot.title = element_text(hjust = 0.5))
ggplot(bw, aes( x= cigs, y = bwght)) +
geom_point() +
geom_smooth(methos = "m1") +
theme_bw()+
xlab("avg number of cigarettes the mother smoked per day") +
ylab("infant birth weight in ounces") +
labs(title = "Data distribution and the regression model") +
theme(plot.title = element_text(hjust = 0.5))
ggplot(bw, aes( x= cigs, y = bwght)) +
geom_point() +
geom_smooth(methos = "m1") +
theme_bw()+
xlab("avg number of cigarettes the mother smoked per day") +
ylab("infant birth weight in ounces") +
labs(title = "Data distribution and the Regression model") +
theme(plot.title = element_text(hjust = 0.5))
load("~/2ndSemster/Econometrics/problemsets/PS1/bwght.RData")
bw <- data
m1 <- lm(bwght ~ cigs, bw)
stargazer(m1, title = "Regression Model for bwght = cigs",type = "latex", header = FALSE)
View(lab3)
dat <- data.frame(incom = discrim$lincome, pov = discrim$prppov)
dat
ggplot(bw, aes( x= cigs, y = bwght)) +
geom_point() +
geom_smooth(methos = "m1") +
theme_bw()+
xlab("avg number of cigarettes the mother smoked per day") +
ylab("infant birth weight in ounces") +
labs(title = "Data distribution and the Regression model") +
theme(plot.title = element_text(hjust = 0.5))
library(RPostgreSQL)
password <- .rs.askForPassword("You database password.")
drv <- dbDriver("PostgreSQL")
con <- dbConnect(drv, dbname = "postgres",
host = "localhost", port = 5432,
user = "postgres", password = password)
remove(password)
library(RPostgreSQL)
password <- .rs.askForPassword("You database password.")
drv <- dbDriver("PostgreSQL")
con <- dbConnect(drv, dbname = "postgres",
host = "localhost", port = 5432,
user = "postgres", password = password)
remove(password)
library(ggplot2)
y1 <- x + rnorm(100, 1, 2)
y1 <- x + rnorm(100, 1, 8)
y1 <- x + rnorm(100, 1, 2)
y2 <- x + rnorm(100, 1, 8)
dat <- data.frame(x = x, y1 = y1, y2 = y2)
dat <- data.frame(x = x, y1 = y1, y2 = y2)
dat
x <- rnorm(100, 1, 2)
x
x <- rnorm(100, 1, 2)
y1 <- x + rnorm(100, 1, 2)
y2 <- x + rnorm(100, 1, 8)
dat <- data.frame(x = x, y1 = y1, y2 = y2)
dat
ggplot(dat, aes(x = x, color = c(y1, y2))) + geom_point()
library(reshape)
library(reshape2)
dat1 <- melt(dat, id.vars = x)
dat <- data.frame(x = 'x', y1 = y1, y2 = y2)
dat <- data.frame(x = x, y1 = y1, y2 = y2)
dat1 <- melt(dat, id.vars = 'x')
dat1
ggplot(dat, aes(x = x, color = 'value')) + geom_point()
ggplot(dat, aes(x = x, y = y, color = 'value')) + geom_point()
ggplot(dat, aes(x = x, y = variable, color = 'value')) + geom_point()
ggplot(dat, aes(x = x, y = variable, color = 'value')) + geom_point()
dat <- data.frame(x = x, y1 = y1, y2 = y2)
head(dat)
ggplot(dat, aes(x = x, y = y1)) + geom_point()
ggplot(dat, aes(x = x, y = y1, color = 'blue')) + geom_point()
ggplot(dat, aes(x = x, y = y1, color = 'blue')) + geom_point(aes(x = x, y = y2))
ggplot(dat, aes(x = x, y = y1, color = 'blue')) + geom_point(aes(x = x, y = y2, color = 'red'))
ggplot(dat, aes(x = x, y = y2, color = 'blue')) + geom_point()
ggplot(dat, aes(x = x, y = y1, color = 'blue')) + geom_point()
ggplot(dat, aes(x = x, y = y2, color = 'blue')) + geom_point()
ggplot(dat, aes(x = x, y = y1, color = 'blue')) + geom_point()
ggplot(dat, aes(x = x, y = y2, color = 'blue')) + geom_point()
ggplot(dat, aes(x = x, y = y2, color = 'red')) + geom_point()
ggplot(dat, aes(x = x, y = y1), color = 'blue') + geom_point()
ggplot(dat, aes(x = x, y = y2), color = 'red') + geom_point()
ggplot(dat, aes(x = x, y = y1), color = 'blue') + geom_point()
ggplot(dat, aes(x = x, y = y2), color = 'red') + geom_point()
ggplot(dat, aes(x = x, y = y1)) + geom_point(color = 'blue')
ggplot(dat, aes(x = x, y = y2)) + geom_point(color = 'red')
dat <- data.frame(x = x, y1 = y1, y2 = y2)
dat1 <- melt(dat, id.vars = 'x')
head(dat1)
ggplot(dat1, aes(x = x, y = value, color = 'variable')) + geom_point()
ggplot(dat1, aes(x = x, y = value, fill = 'variable')) + geom_point()
dat1
ggplot(dat1, aes(x = x, y = value, fill = 'variable')) + geom_point()
ggplot(dat1, aes(x = x, y = value, color = 'variable')) + geom_point()
ggplot(dat1, aes(x = x, y = value, color = variable)) + geom_point()
x1 <- rnorm(100, 1, 1)
y1 <- x1 + rnorm(100, 1, 8)
x2 <- rnorm(100, 1, 8)
y2 <- x2 + rnorm(100, 1, 8)
dat2 <- data.frame(x1 = x1, x2 = x2, y1 = y1, y2= y2)
dat2
ggplot(dat2, aes(x = x1, y = y1)) + geom_point()
ggplot(dat2, aes(x = x2, y = y2)) + geom_point()
ggplot(dat2, aes(x = x1, y = y1)) + geom_point()
ggplot(dat2, aes(x = x2, y = y2)) + geom_point()
ggplot(dat2, aes(x = x1, y = y1)) + geom_point()
x1 <- rnorm(100, 1, 1)
y1 <- x1 + rnorm(100, 1, 8)
x2 <- rnorm(100, 1, 8)
y2 <- x2 + rnorm(100, 1, 8)
dat2 <- data.frame(x1 = x1, x2 = x2, y1 = y1, y2= y2)
dat2
ggplot(dat2, aes(x = x1, y = y1)) + geom_point()
ggplot(dat2, aes(x = x2, y = y2)) + geom_point()
ggplot(dat2, aes(x = x1, y = y1)) + geom_point()
ggplot(dat2, aes(x = x2, y = y2)) + geom_point()
ggplot(dat2, aes(x = x1, y = y1)) + geom_point()
ggplot(dat2, aes(x = x2, y = y2)) + geom_point()
knitr::opts_chunk$set(message = FALSE)
library(ggplot2)
load("wage1.RData")
setwd("~/2ndSemster/Econometrics/lec2")
load("wage1.RData")
load("wage1.RData")
ls()  # show data sets and functions you have defined
desc
wage.data <- data
summary(wage.data[, 1:2])
summary(wage.data[, 1:2])
summary(wage.data[, 1:2])
ggplot(data = wage.data, aes(x = wage)) + geom_histogram()
ggplot(data = wage.data, aes(x = educ)) + geom_histogram()
ggplot(data = wage.data, aes(x = educ, y = wage)) + geom_point()
linear.m1 <- lm(wage ~ educ, data = wage.data)
summary(linear.m1)
# manual calculation of OLS estimates
X <- cbind(rep(1, nrow(wage.data)), wage.data$educ)
y <- wage.data$wage
OLS.est <- solve(t(X) %*% X, t(X) %*% y)
OLS.est
# manual calculation of R^2
y.hat <- linear.m1$fitted.values
R.sqrd <- sum((y.hat - mean(y.hat))^2) / sum((y - mean(y))^2)
R.sqrd
R.sqrd2 <- 1 - sum(linear.m1$residuals^2) / sum((y - mean(y))^2)
R.sqrd2
ggplot(data = wage.data, aes(x = educ, y = wage)) + geom_point() + stat_smooth(method = "lm")
ggplot(data = wage.data, aes(x = educ, y = wage)) + geom_point() + stat_smooth(method = "lm")
# manual calculation of R^2
y.hat <- linear.m1$fitted.values
R.sqrd <- sum((y.hat - mean(y.hat))^2) / sum((y - mean(y))^2)
R.sqrd
R.sqrd2 <- 1 - sum(linear.m1$residuals^2) / sum((y - mean(y))^2)
R.sqrd2
ggplot(data = wage.data, aes(x = educ, y = wage)) + geom_point() + stat_smooth(method = "lm")
# manual calculation of OLS estimates
X <- cbind(rep(1, nrow(wage.data)), wage.data$educ)
y <- wage.data$wage
OLS.est <- solve(t(X) %*% X, t(X) %*% y)
OLS.est
ggplot(data = wage.data, aes(x = educ, y = wage)) + geom_point() + stat_smooth(method = "lm")
# find critical values in R
qnorm(0.995)
# find critical values in R
qnorm(0.995)
qt(0.995, df = 522)
# Example 4.1
load("wage1.RData")
wage.m1 <- lm(log(wage) ~ educ + exper + tenure, data = data)
setwd("~/2ndSemster/Econometrics/lec3")
# Example 4.1
load("wage1.RData")
wage.m1 <- lm(log(wage) ~ educ + exper + tenure, data = data)
summary(wage.m1)
library(car)
linearHypothesis(wage.m1, "educ = 2")
# confidence interval
confint(wage.m1, 'educ', level = 0.95)
confint(wage.m1, level = 0.95)
summary(wage.m1)
# A single linear combination of parameters
data$educ.exp <- data$educ + data$exper
head(data)
wage.m2 <- lm(log(wage) ~ educ + educ.exp + tenure, data)
summary(wage.m2)
summary(wage.m1)
linearHypothesis(wage.m1, "educ - exper = 0")
# find critical values in R
qnorm(0.995)
qt(0.995, df = 522)
# Example 4.1
load("wage1.RData")
wage.m1 <- lm(log(wage) ~ educ + exper + tenure, data = data)
summary(wage.m1)
0.092029/0.007330
library(car)
linearHypothesis(wage.m1, "educ = 2")
# confidence interval
confint(wage.m1, 'educ', level = 0.95)
confint(wage.m1, level = 0.95)
wage.m1 <- lm(log(wage) ~ educ + exper + tenure, data = data)
summary(wage.m1)
linearHypothesis(wage.m1, "educ = 2")
# A single linear combination of parameters
data$educ.exp <- data$educ + data$exper
wage.m2 <- lm(log(wage) ~ educ + educ.exp + tenure, data)
summary(wage.m2)
summary(wage.m1)
qt(df = 522,p = 0.01 )
qt(df = 522, p = 0.995)
.092/0.007
hprice2
qt(df = 501, (1-0.025))
(-0.954+1)/0.117
library(car)
linearHypothesis(wage.m1, "educ = 2")
summary(wage.m1)
# confidence interval
confint(wage.m1, 'educ', level = 0.95)
confint(wage.m1, level = 0.95)
# A single linear combination of parameters
data$educ.exp <- data$educ + data$exper
wage.m2 <- lm(log(wage) ~ educ + educ.exp + tenure, data)
summary(wage.m2)
linearHypothesis(wage.m1, "educ - exper = 0")
qnorm(0.995)
qnorm((1-0.025))
linearHypothesis(wage.m1, "educ - exper = 0")
qt(df = 543, 95%)
qt(df = 543, 0.95)
qnorm(df = 542)
dt(df = 542, 0.95)
qt(df = 542, 0.95)
linearHypothesis(wage.m1, "educ = 2")
a = (13270.4 - 101.5)
b = (101.5)/(522)
a/b
a = (13169 - 101.5)
a/b
# confidence interval
confint(wage.m1, 'educ', level = 0.95)
confint(wage.m1, level = 0.95)
# A single linear combination of parameters
data$educ.exp <- data$educ + data$exper
wage.m2 <- lm(log(wage) ~ educ + educ.exp + tenure, data)
summary(wage.m2)
linearHypothesis(wage.m1, "educ - exper = 0")
wage.m2 <- lm(log(wage) ~ educ + educ.exp + tenure, data)
summary(wage.m2)
wage.m1 <- lm(log(wage) ~ educ + exper + tenure, data = data)
summary(wage.m1)
# A single linear combination of parameters
data$educ.exp <- data$educ + data$exper
wage.m2 <- lm(log(wage) ~ educ + educ.exp + tenure, data)
summary(wage.m2)
linearHypothesis(wage.m1, "educ - exper = 0")
# Example 4.9
load("bwght.RData")
bwght.ur <- lm(bwght ~ cigs + parity + faminc + motheduc + fatheduc, data = data)
summary(bwght.ur)
summary(data)
# remove observations with missing values
data.new <- na.omit(data)
bwght.ur <- lm(bwght ~ cigs + parity + faminc + motheduc + fatheduc, data = data.new)
summary(bwght.ur)
# Example 4.9
load("bwght.RData")
bwght.ur <- lm(bwght ~ cigs + parity + faminc + motheduc + fatheduc, data = data)
summary(bwght.ur)
summary(data)
summary(bwght.ur)
# remove observations with missing values
data.new <- na.omit(data)
bwght.ur <- lm(bwght ~ cigs + parity + faminc + motheduc + fatheduc, data = data.new)
summary(bwght.ur)
sum(bwght.ur$residuals^2)
bwght.ur$residuals
bwght.ur
nrow(bwght.ur$residuals)
length(bwght.ur$residuals)
bwght.ur
names(bwght.ur)
sum(bwght.ur$residuals^2)
bwght.r <- lm(bwght ~ cigs + parity + faminc, data = data.new)
summary(bwght.r)
sum(bwght.r$residuals^2)
qf(0.95, 2, 1185)
linearHypothesis(bwght.ur, c("motheduc = 0", "fatheduc = 0"))
sum(bwght.ur$residuals^2)
sum(bwght.r$residuals^2)
(sum(bwght.ur$residuals^2)*sum(bwght.ur$residuals^2) - sum(bwght.r$residuals^2)*sum(bwght.r$residuals^2))/2
(1-sum(bwght.ur$residuals^2)*sum(bwght.ur$residuals^2))/1185
-522984702/-181716603
qf(0.95, 2, 1185)
sum(bwght.r$residuals^2)
summary(bwght.ur)
sum(bwght.ur$residuals^2)
linearHypothesis(bwght.ur, c("motheduc = 0", "fatheduc = 0"))
sum(bwght.r$residuals^2)
sum(bwght.ur$residuals^2)
2.878024/2
1.4373*1.4373
1.4373*2
qf(0.95, 2, 1185)
a = 464041
b = 465167
((a*a - b*b)/2)/((1-a*a)/1185)
qt(0.95, 2, 1185)
qf(0.95, 2, 1185)
